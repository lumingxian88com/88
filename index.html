/* 88 數據中控中心 */

// 1. 【2025 底數】
var base = ["2025/01/01", [31,37,25,18,30,14,16,19,22,10,15,12,18,9,21,13,17,25,30,4,11,22,24,6,8,15,12,18,20,14,9,11,7,16,23,18,10,12,15]];

// 2. 【2026 更新區】 
var allHistory = [
  ["2026/01/02","(五)",["17","18","25","36","39"]],
  ["2026/01/01","(四)",["15","16","18","29","36"]]
];

// 3. 【自動計算】
var myday = allHistory[0];
var mydate = myday[0];
var last = allHistory.slice(0, 100).map(d => d[2]);
var times = [...base[1]]; 

allHistory.forEach(item => {
    if (item[0] >= "2026/01/01") {
        item[2].forEach(n => {
            let idx = parseInt(n) - 1;
            if (idx >= 0 && idx < 39) times[idx]++;
        });
    }
});

// 4. 【網頁顯示控制】
if (typeof document !== 'undefined' && document.body) {
    var render = function() {
        document.body.style.cssText = "background:#000; color:#0f0; font-family:monospace; padding:20px; line-height:1.8;";
        document.body.innerHTML = `
            <h2 style="color:red; border-bottom:1px solid #333;">88 數據中控中心</h2>
            <p style="font-size:20px;">顯示日期：<span style="color:#fff;">${myday[0]} ${myday[1]}</span></p>
            <p style="font-size:20px;">顯示號碼：<span style="color:#ff0;">${myday[2].join(' , ')}</span></p>
            <hr style="border:0.5px solid #333;">
            <p><strong>按2 (01-39 總次數)：</strong></p>
            <div style="word-break:break-all; background:#111; padding:15px; border-radius:5px; border:1px solid #222;">
                ${times.join(' , ')}
            </div>
            <p style="color:#666; font-size:12px; margin-top:50px;">※ 數據源已就緒，可供各倉庫引用。</p>
        `;
    };
    if (document.readyState === 'complete') { render(); } 
    else { window.addEventListener('load', render); }
}
